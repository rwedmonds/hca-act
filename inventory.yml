---
all:
  vars:
    eos_designs_custom_templates:
      - template: "snmp_template.j2"
        options:
          list_merge: prepend
          strip_empty_keys: false
  children:
    # ------------------------------- #
    # MARK: CVaaS
    # ------------------------------- #
    CVAAS:
      hosts:
        CVAAS:
          ansible_host: "apiserver.cv-staging.corp.arista.io"
          ansible_httpapi_host: "apiserver.cv-staging.corp.arista.io"
          ansible_user: "cvaas"
          ansible_password: "{{lookup('file', '../global_vars/cvaas.token')}}"
          ansible_ssh_pass: "{{lookup('file', '../global_vars/cvaas.token')}}"
          ansible_become: true
          ansible_become_method: enable
          ansible_connection: httpapi
          ansible_httpapi_use_ssl: true
          ansible_httpapi_validate_certs: false
          ansible_network_os: eos
          ansible_httpapi_port: 443
          ansible_python_interpreter: $(which python3)

    # ------------------------------- #
    # MARK: HCA Fabric
    # ------------------------------- #
    HCA:
      vars:
        ansible_network_os: eos
        ansible_connection: httpapi
        ansible_httpapi_port: 443
        ansible_httpapi_use_ssl: true
        ansible_httpapi_validate_certs: false
        ansible_become: yes
        ansible_become_method: enable
      children:
        # --------------------------- #
        # MARK: Campus
        # --------------------------- #
        CAMPUS:
          children:
            CAMPUS_SPINES:
              vars:
                type: spine
              hosts:
                CAMPUS-SPINE1:
                  ansible_host: 172.16.0.31
                CAMPUS-SPINE2:
                  ansible_host: 172.16.0.32
            CAMPUS_L3LEAFS:
              vars:
                type: l3leaf
              hosts:
                CAMPUS-LEAF1A:
                  ansible_host: 172.16.0.33
                CAMPUS-LEAF1B:
                  ansible_host: 172.16.0.34
                CAMPUS-LEAF2A:
                  ansible_host: 172.16.0.35
                CAMPUS-LEAF2B:
                  ansible_host: 172.16.0.36
                CAMPUS-LEAF3A:
                  ansible_host: 172.16.0.37
                CAMPUS-LEAF3B:
                  ansible_host: 172.16.0.38
                CAMPUS-LEAF4A:
                  ansible_host: 172.16.0.39
                CAMPUS-LEAF4B:
                  ansible_host: 172.16.0.40
            CAMPUS_L2LEAFS:
              vars:
                type: l2leaf
              hosts:
                CAMPUS-LEAF2C:
                  ansible_host: 172.16.0.41
                CAMPUS-LEAF2D:
                  ansible_host: 172.16.0.42
                CAMPUS-LEAF5C:
                  ansible_host: 172.16.0.43
                CAMPUS-LEAF5D:
                  ansible_host: 172.16.0.44

        CAMPUS_SERVERS:
          children:
            CAMPUS_L3LEAFS:
            CAMPUS_L2LEAFS:
        CAMPUS_TENANTS:
          children:
            CAMPUS_L3LEAFS:
            CAMPUS_L2LEAFS:
        CAMPUS_BORDERLEAFS:
          children:
            hosts:
              CAMPUS-LEAF4A:
              CAMPUS-LEAF4B:
        LEAF_DEFAULTS:
          children:
            CAMPUS_L3LEAFS:
            CAMPUS_L2LEAFS:
        MLAG_ODD:
          children:
            CAMPUS-LEAF1A:
            CAMPUS-LEAF2A:
            CAMPUS_LEAF3A:
            CAMPUS_LEAF4A:
        MLAG_EVEN:
          children:
            CAMPUS-LEAF1B:
            CAMPUS-LEAF2B:
            CAMPUS_LEAF3B:
            CAMPUS_LEAF4B:
